pre,
code {
    font-family: $monospaced;
    font-size: $font-size-sm;
    line-height: 1.6;
}

code {
    background-color: $grey-4;
    border-radius: 4px;
    color: $code-color;
    font-size: 0.875em;
    padding: 0.15em 0.4em;
    transition: background-color 0.2s ease;
    font-weight: 400;
    letter-spacing: -0.01em;
    
    &:hover {
        background-color: lighten($grey-4, 5%);
    }
}

pre {
    margin: 2rem 0;
    position: relative;
    
    @media (max-width: 600px) {
        margin: 1.5rem -1.25rem;
        border-radius: 0;
    }
    
    &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: $accent-1;
        border-radius: 4px 4px 0 0;
        
        @media (max-width: 600px) {
            border-radius: 0;
        }
    }
}

pre code {
    background-color: $grey-2;
    border-radius: 4px;
    color: $default-color;
    display: block;
    font-size: 0.875em;
    padding: 1.5rem;
    overflow-x: auto;
    white-space: pre;
    box-shadow: 0 4px 6px $shadow-color;
    line-height: 1.6;
    
    @media (max-width: 600px) {
        padding: 1.25rem;
        font-size: 0.8125em;
        border-radius: 0;
    }
}

.highlight {
    background-color: $grey-2;
    border-radius: 4px;
    line-height: 1.5;
    margin: 1.5rem 0;
    position: relative;
    box-shadow: 0 4px 6px $shadow-color;

    pre {
        margin-bottom: 0;
        overflow-x: auto;
        padding: 0;
    }

    .lineno {
        color: $default-tint;
        display: inline-block;
        padding: 0 1rem 0 0.5rem;
        user-select: none;
        border-right: 1px solid $grey-3;
        margin-right: 1rem;
    }
    
    // Syntax highlighting colors
    .c1 { color: $default-tint; } // Comments
    .s { color: $accent-1; }      // Strings
    .k { color: $accent-2; }      // Keywords
    .n { color: $white; }         // Names
    .o { color: $default-color; } // Operators
    .p { color: $default-color; } // Punctuation
    .nb { color: $accent-3; }     // Built-in names
    .nc { color: $accent-3; }     // Class names
    .nf { color: $accent-1; }     // Function names
    .mi { color: $accent-2; }     // Numbers
    .no { color: $accent-2; }     // Constants
    .nv { color: $accent-3; }     // Variables
}

// Inline code block - in paragraphs, lists, headings
p code,
li code,
h1 code,
h2 code,
h3 code,
h4 code,
h5 code,
h6 code,
td code {
    background-color: $grey-4;
    border-radius: 4px;
    color: $code-color;
    font-size: 0.875em;
    padding: 0.15em 0.4em;
    transition: background-color 0.2s ease;
    font-weight: 400;
    word-break: break-word;
    
    &:hover {
        background-color: lighten($grey-4, 5%);
    }
}
